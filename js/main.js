"use strict";var selects=document.getElementsByTagName("select");function selects_init(){for(var e=0;e<selects.length;e++){select_init(selects[e])}document.addEventListener("click",(function(e){selects_close(e)})),document.addEventListener("keydown",(function(e){27==e.which&&selects_close(e)}))}function selects_close(e){var t=document.querySelectorAll(".select");if(!e.target.closest(".select"))for(var s=0;s<t.length;s++){var o=t[s],l=o.querySelector(".select__options");o.classList.remove("_active"),_slideUp(l,100)}}function select_init(e){var t=e.parentElement,s=e.getAttribute("class"),o=e.querySelector("option:checked");e.setAttribute("data-default",o.value),e.style.display="none",t.insertAdjacentHTML("beforeend",'<div class="select select_'+s+'"></div>'),e.parentElement.querySelector(".select").appendChild(e),select_item(e)}function select_item(e){var t=e.parentElement,s=t.querySelector(".select__item"),o=e.querySelectorAll("option"),l=e.querySelector("option:checked").text,r=e.getAttribute("data-type");s&&s.remove();var n="";n="input"==r?'<div class="select__value"><input autocomplete="off" type="text" name="form[]" value="'+l+'" data-error="Ошибка" data-value="'+l+'" class="select__input"></div>':'<div class="select__value"><span>'+l+"</span></div>",t.insertAdjacentHTML("beforeend",'<div class="select__item"><div class="select__title">'+n+'</div><div class="select__options">'+select_get_options(o)+"</div></div></div>"),select_actions(e,t)}function select_actions(e,t){var s=t.querySelector(".select__item"),o=t.querySelector(".select__options"),l=t.querySelectorAll(".select__option"),r=e.getAttribute("data-type"),n=t.querySelector(".select__input");s.addEventListener("click",(function(){for(var e=document.querySelectorAll(".select"),l=0;l<e.length;l++){var r=e[l],n=r.querySelector(".select__options");r!=s.closest(".select")&&(r.classList.remove("_active"),_slideUp(n,100))}_slideToggle(o,100),t.classList.toggle("_active")}));for(var i=function(s){var o=l[s],i=o.getAttribute("data-value"),a=o.innerHTML;"input"==r?n.addEventListener("keyup",select_search):o.getAttribute("data-value")==e.value&&(o.style.display="none"),o.addEventListener("click",(function(){for(var s=0;s<l.length;s++){l[s].style.display="block"}"input"==r?(n.value=a,e.value=i):(t.querySelector(".select__value").innerHTML="<span>"+a+"</span>",e.value=i,o.style.display="none")}))},a=0;a<l.length;a++)i(a)}function select_get_options(e){if(e){for(var t="",s=0;s<e.length;s++){var o=e[s],l=o.value;if(""!=l)t=t+'<div data-value="'+l+'" class="select__option">'+o.text+"</div>"}return t}}function select_search(e){e.target.closest(".select ").querySelector(".select__options");for(var t=e.target.closest(".select ").querySelectorAll(".select__option"),s=e.target.value.toUpperCase(),o=0;o<t.length;o++){var l=t[o];(l.textContent||l.innerText).toUpperCase().indexOf(s)>-1?l.style.display="":l.style.display="none"}}function selects_update_all(){var e=document.querySelectorAll("select");if(e)for(var t=0;t<e.length;t++){select_item(e[t])}}selects.length>0&&selects_init();var _slideUp=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((function(){e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t)},_slideDown=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;e.style.removeProperty("display");var s=window.getComputedStyle(e).display;"none"===s&&(s="block"),e.style.display=s;var o=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=o+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((function(){e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t)},_slideToggle=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;if(!e.classList.contains("_slide"))return e.classList.add("_slide"),"none"===window.getComputedStyle(e).display?_slideDown(e,t):_slideUp(e,t)},range=document.getElementById("range"),percent=document.querySelector(".registration__range-percent");range.addEventListener("input",(function(){percent.textContent=range.value+"%"}));var burgerBtn=document.querySelector(".burger-btn"),headerNav=document.querySelector(".header__nav");burgerBtn.addEventListener("click",(function(){burgerBtn.classList.toggle("_active"),headerNav.classList.toggle("_active"),headerNav.classList.contains("_active")?document.body.style.overflow="hidden":document.body.style.overflow="auto"})),headerNav.addEventListener("click",(function(e){e.target.closest(".header__nav-list")||(headerNav.classList.remove("_active"),burgerBtn.classList.remove("_active"),document.body.style.overflow="auto")}));