"use strict";var loginBtns=document.querySelectorAll('[data-btn="login"]'),loginPopup=document.querySelector('[data-popup="login"]'),popupWrapper=document.querySelector(".popups"),loginCloseBtn=document.querySelector('[data-close="login"]'),registerBtns=document.querySelectorAll('[data-btn="register"]'),registerPopup=document.querySelector('[data-popup="register"]'),registerCloseBtn=document.querySelector('[data-close="register"]'),profileBtn=document.querySelector('[data-btn="my-profile"]'),profilePopup=document.querySelector('[data-popup="profile"]'),profileCloseBtn=document.querySelector('[data-close="profile"]'),buyBtns=document.querySelectorAll('[data-btn="buy"]'),buyPopup=document.querySelector('[data-popup="buy"]'),buyCloseBtn=document.querySelector('[data-close="buy"]');function closeAllPopups(){popupWrapper.classList.remove("popups--is-active"),loginPopup.classList.remove("popup-login--is-active"),registerPopup.classList.remove("popup-login--is-active"),profilePopup.classList.remove("popup-profile--is-active"),buyPopup.classList.remove("popup-buy--is-active")}registerBtns.forEach((function(e){e.addEventListener("click",(function(){closeAllPopups(),popupWrapper.classList.add("popups--is-active"),registerPopup.classList.add("popup-login--is-active")}))})),buyBtns.forEach((function(e){e.addEventListener("click",(function(){closeAllPopups(),popupWrapper.classList.add("popups--is-active"),buyPopup.classList.add("popup-buy--is-active")}))})),loginBtns.forEach((function(e){e.addEventListener("click",(function(){closeAllPopups(),popupWrapper.classList.add("popups--is-active"),loginPopup.classList.add("popup-login--is-active")}))})),profileBtn.addEventListener("click",(function(){closeAllPopups(),popupWrapper.classList.add("popups--is-active"),profilePopup.classList.add("popup-profile--is-active")})),popupWrapper.addEventListener("click",(function(e){e.target.closest('[data-popup="login"]')||e.target.closest('[data-popup="register"]')||closeAllPopups()})),loginCloseBtn.addEventListener("click",(function(){closeAllPopups()})),registerCloseBtn.addEventListener("click",(function(){closeAllPopups()})),profileCloseBtn.addEventListener("click",(function(){closeAllPopups()})),buyCloseBtn.addEventListener("click",(function(){closeAllPopups()}));var root=document.querySelector(":root"),burgerBtn=document.querySelector(".burger-menu-btn"),navList=document.querySelector(".nav-wrapper"),body=document.querySelector(".main-page"),header=document.querySelector(".header");document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector(".header").offsetHeight;root.style.setProperty("--header-height","".concat(e));var t=document.querySelectorAll(".nav-link");burgerBtn.addEventListener("click",(function(){burgerBtn.classList.toggle("burger-menu-btn--is-active"),navList.classList.toggle("nav-wrapper--is-active"),body.classList.toggle("main-page--overflow-hidden"),t.forEach((function(e){e.addEventListener("click",(function(){burgerBtn.classList.remove("burger-menu-btn--is-active"),navList.classList.remove("nav-wrapper--is-active"),body.classList.remove("main-page--overflow-hidden")}))}))}))})),window.addEventListener("resize",(function(){var e=document.querySelector(".header").offsetHeight;console.log(e),root.style.setProperty("--header-height","".concat(e))})),document.addEventListener("click",(function(e){e.target.closest(".nav-wrapper")||e.target.closest(".burger-menu-btn")||(burgerBtn.classList.remove("burger-menu-btn--is-active"),navList.classList.remove("nav-wrapper--is-active"),body.classList.remove("main-page--overflow-hidden"))}));var favoritesRadioButtons=document.querySelectorAll(".favorites-form-input"),favoritesCards=document.querySelectorAll(".favorites-cards-list");favoritesRadioButtons.forEach((function(e){e.addEventListener("click",(function(){favoritesCards.forEach((function(t){setTimeout((function(){t.classList.remove("favorites-cards-list--is-active")}),300),t.classList.remove("favorites-cards-list--is-visible"),e.id===t.dataset.id&&(setTimeout((function(){t.classList.add("favorites-cards-list--is-active")}),300),setTimeout((function(){t.classList.add("favorites-cards-list--is-visible")}),600))}))}))}));var UserName=document.querySelector("#register-first-name"),LastName=document.querySelector("#register-last-name"),Email=document.querySelector("#register-email"),Password=document.querySelector("#register-password"),signUpBtn=document.querySelector('[data-btn="sign-up"]'),authBtn=document.querySelector('[data-btn="auth"]'),mainPage=document.querySelector(".main-page");signUpBtn.addEventListener("click",(function(){var e=UserName.value,t=LastName.value,o=Email.value,r=Password.value,i=Math.pow(16,9)-1,s=Math.floor(Math.random()*i).toString(16).toUpperCase().padStart(length,"0");""===e||""===t||""===o||""===r?alert("Заполните все поля"):r.length<8?alert("Пароль должен содержать более 8 символов"):closeAllPopups();var n={registerUserName:e,registerLastName:t,registerEmail:o,registerPassword:r,registerUserNumber:s};localStorage.setItem("userData",JSON.stringify(n))})),authBtn.addEventListener("click",(function(){var e=localStorage.getItem("userData"),t=document.querySelector("#username").value,o=document.querySelector("#password").value;if(e){var r=JSON.parse(e);if(r.registerUserName===t||r.registerUserNumber===t&&r.registerPassword===o){closeAllPopups();localStorage.setItem("userLogined",JSON.stringify({logined:!0})),localStorage.getItem("userLogined"),history.replaceState({},document.title,window.location.pathname),location.reload()}else alert("Что-то пошло не так")}})),document.addEventListener("DOMContentLoaded",(function(){var e=localStorage.getItem("userLogined");if(e&&JSON.parse(e).logined){mainPage.classList.add("main-page--is-auth");var t=localStorage.getItem("userData");if(t){var o=JSON.parse(t),r=o.registerUserName,i=o.registerLastName,s=r.charAt(0),n=i.charAt(0),a=document.querySelector(".profile-btn__text");a.textContent=s+n,a.setAttribute("title","".concat(r,"  ").concat(i));var l=document.querySelector("#card-number"),c=document.querySelector("#card-user"),u=document.querySelector(".profile-menu__title");l.value=o.registerUserNumber,c.value=o.registerUserName+" "+o.registerLastName,u.textContent=o.registerUserNumber}}}));var logoutBtn=document.querySelector("[data-btn='logout']");logoutBtn.addEventListener("click",(function(){localStorage.removeItem("userLogined"),location.reload()}));profileBtn=document.querySelector(".profile-btn");var profileMenu=document.querySelector(".profile-menu"),profileBtns=document.querySelectorAll(".profile-menu-list__btn");profileBtn.addEventListener("click",(function(){profileMenu.classList.add("profile-menu--is-active")})),document.addEventListener("click",(function(e){e.target.closest(".header-profile")||profileMenu.classList.remove("profile-menu--is-active")})),profileBtns.forEach((function(e){e.addEventListener("click",(function(){profileMenu.classList.remove("profile-menu--is-active")}))}));var slides=document.querySelectorAll(".about-content-list__item"),sliderWrapper=document.querySelector(".about-content-list"),buttonPrev=document.querySelector('[data-controller="prev"]'),buttonNext=document.querySelector('[data-controller="next"]'),paginationButtons=document.querySelectorAll(".about-pagination-bullet"),slideWidth=slides[0].offsetWidth,slideTransform=0,countSlides=slides.length,countSlider=0,styles=getComputedStyle(document.documentElement),slidesInDisplay=styles.getPropertyValue("--number-of-slides"),slideMove=countSlides-slidesInDisplay;function buttonDisable(){0===countSlider&&buttonPrev.setAttribute("disabled",""),countSlider===slideMove&&buttonNext.setAttribute("disabled","")}function paginationButtonActive(){for(var e=0;e<paginationButtons.length;e++){paginationButtons[e].classList.remove("about-pagination-bullet--is-active"),paginationButtons[countSlider].classList.add("about-pagination-bullet--is-active")}}buttonPrev.setAttribute("disabled",""),window.addEventListener("resize",(function(){slideWidth=slides[0].offsetWidth})),countSlides<=slidesInDisplay&&(buttonPrev.setAttribute("disabled",""),buttonNext.setAttribute("disabled","")),buttonPrev.addEventListener("click",(function(){slideTransform-=slideWidth,sliderWrapper.style.transform="translateX(".concat(-slideTransform,"px)"),buttonNext.removeAttribute("disabled"),countSlider--,paginationButtonActive(),buttonDisable()})),buttonNext.addEventListener("click",(function(){slideTransform+=slideWidth,sliderWrapper.style.transform="translateX(".concat(-slideTransform,"px)"),buttonPrev.removeAttribute("disabled"),countSlider++,paginationButtonActive(),buttonDisable()}));for(var _loop=function(){var e=paginationButtons[index];e.addEventListener("click",(function(){var t=e.dataset.index;countSlider=Number(t),sliderWrapper.style.transform="translateX(".concat(-slideWidth*t,"px)"),slideTransform=slideWidth*t,buttonPrev.removeAttribute("disabled"),buttonNext.removeAttribute("disabled"),paginationButtonActive(),e.classList.add("about-pagination-bullet--is-active"),buttonDisable()}))},index=0;index<paginationButtons.length;index++)_loop();